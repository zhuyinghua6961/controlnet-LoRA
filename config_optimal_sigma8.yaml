# æœ€ä¼˜Sigmaé…ç½® (sigma=8)
# åŒæ—¶ä½¿ç”¨ï¼šåŠ æƒLoss + é™ä½Sigma
# è¿™æ˜¯é’ˆå¯¹ä½ç½®ç²¾åº¦çš„æœ€å¼ºç»„åˆï¼

project:
  name: "radar_controlnet"
  output_dir: "output/controlnet_optimal"  # å…¨æ–°æ¨¡å‹
  # TensorBoardæ—¥å¿—ä¼šè‡ªåŠ¨ä¿å­˜åˆ°: output/controlnet_optimal/logs
  # å¯åŠ¨å‘½ä»¤: tensorboard --logdir=output/controlnet_optimal/logs

data:
  data_dir: "dataset"
  resolution: 512
  range_max: 200
  vel_max: 40

training:
  train_batch_size: 1
  gradient_accumulation_steps: 8
  num_train_epochs: 50                # å®Œæ•´è®­ç»ƒ50ä¸ªepoch
  learning_rate: 1.5e-5               # æ ‡å‡†å­¦ä¹ ç‡
  lr_scheduler: "cosine"
  lr_warmup_steps: 1000
  max_grad_norm: 1.0
  save_steps: 500
  mixed_precision: "fp16"
  dataloader_num_workers: 4
  
  # ğŸ”´ å…³é”®æ”¹è¿›1ï¼šåŠ æƒLoss
  loss_weight_factor: 100             # ç›®æ ‡åŒºåŸŸæƒé‡5å€
  
  # ğŸ”´ å…³é”®æ”¹è¿›2ï¼šé™ä½Sigma
  heatmap_sigma: 8.0                  # ä»15é™åˆ°8ï¼Œå‡å°‘æ¨¡ç³Š
                                      # å½±å“èŒƒå›´ï¼šÂ±24åƒç´  (vs Â±45åƒç´ )
                                      # å¯¹åº”ç‰©ç†è·ç¦»ï¼šÂ±9.4m (vs Â±17.6m)


